{% load i18n extra_tags email_tags %}

{% declare %}
    prefix = settings.EMAIL_SUBJECT_PREFIX
    app_name = settings.APP_SHORT_NAME
    app_url = settings.APP_URL
    answer_author = answer.author.username
    question = answer.question
    question_url = question.get_absolute_url()
    question_title = question.title
{% enddeclare %}

{% email %}
    {% subject %}{% blocktrans %}{{ prefix }} New answer to {{ question_title }}{% endblocktrans %}{% endsubject %}

    {% htmlcontent notifications/base.html %}
        <p style="{{ p_style }}">
            {% blocktrans %}
            {{ answer_author }} has just posted a new answer on {{ app_name }} to the question
            <a href="{{ app_url }}{{ question_url }}">{{ question_title }}</a>:
            {% endblocktrans %}
        </p>

        <blockquote>
        {{ answer.html|safe }}
        </blockquote>

        <p style="{{ p_style }}">{% trans "Don't forget to come over and cast your vote." %}</p>
    {% endhtmlcontent %}

    {% textcontent notifications/base_text.html %}
        {% blocktrans %}
        {{ answer_author }} has just posted a new answer on {{ app_name }} to the question
            "{{ question_title }}":
        {% endblocktrans %}


        {{ answer.body|safe }}

        {% trans "Don't forget to come over and cast your vote." %} 
    {% endtextcontent %}

{% endemail %}

